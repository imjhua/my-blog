---
title: "웹폰트 적용기"
date: 2022-07-18
---

## 웹폰트 적용기
웹폰트 적용하면서 겪었던 이슈들과 이를 해결하기 위한 노력들에 대해 공유해보려고 합니다.

### 웹폰트란? 
웹에서 쓰이는 폰트입니다. 폰트 파일을 다운로드하여 화면에 표시해주는 웹 전용 폰트로 사용자가 폰트를 설치하지 않아도 디자이너가 원하는 타이포그래피를 웹 페이지에 구현할 수 있게 하는 기술입니다.

참고)
* 타이포그래피:
타이포그래피란 보통 활자 서체의 배열, 사전적 의미로는 활판술을 의미하는데 근래에 이르러서는 문자를 활용한 그래픽 디자인 전반을 아우르는 단어로 통용되고 있다. 

## 작업 과정

### 디자이너의 요구사항
사용자에게 가장 먼저 노출되는 첫화면은 서비스에 대한 첫 느낌일 될 것입니다. 따라서 메인 타이틀 문구는 페이지에서 가장 눈에 띄는 디자인 요소여야했고 이에 첫 화면에 노출되는 문구는 웹폰트로 적용해달라는 요구사항을 받았습니다.

### 적용해보기
웹 폰트를 적용해봅니다. 

1. 폰트를 다운로드 받아 저장소에 저장한다.
2. CSS의 @font-face 규칙을 사용해 폰트명세를 정의한다.
3. 정의된 폰트를 사용할 수 있도록 적용한다. 

참고)
적용전 웹폰트 라이센스는 미리 꼭 확인해볼 것!

#### 폰트 다운로드
폰트의 형식은 다양합니다. 웹에서 사용하는 woff 포맷인지 확인 후 다운로드 받고 저장소에 저장합니다.
- 저장소 Tenth2: http://mc.kakaocdn.net/console/kakaomobility#

참고)
- ttf(true type font), otf(open type font): pc에 설치하여 사용하는 폰트
- woff(web open font format): otf와 ttf를 압축하여 웹에서 사용할 수 있도록 만들어준 포맷
- eot: IE에서만 지원

#### font-face 정의
font-face규칙은 웹 글꼴명세입니다. 사용하고자 하는 폰트의 속성을 정의해두어 사용할 수 있도록 합니다.

- font-family: 폰트명 선언
- src: 폰트의 위치와 형식
- font-weight: 폰트 글자 굵기(가중치)
- font-style: 폰트의 스타일 (보통, 기울림 등)

가중치에 따라 폰트파일이 존재하므로, 동일한 font-family을 지정하되 개별 font-face로 선언하여 가중치에 맞는 폰트를 가져올 수 있도록 합니다.
```
@font-face {
  font-family: 'S-Core Dream';
  src: url('https://t1.kakaocdn.net/kakaomobility/fonts/S-Core-Dream-light/scdream1-webfont.woff2') format('woff2'),
      url('https://t1.kakaocdn.net/kakaomobility/fonts/S-Core-Dream-light/scdream1-webfont.woff') format('woff');
  font-weight: 100;
  font-style: normal;
}
@font-face {
  font-family: 'S-Core Dream';
  src: url('https://t1.kakaocdn.net/kakaomobility/fonts/S-Core-Dream-light/scdream2-webfont.woff2') format('woff2'),
      url('https://t1.kakaocdn.net/kakaomobility/fonts/S-Core-Dream-light/scdream2-webfont.woff') format('woff');
  font-weight: 200;
  font-style: normal;
}
```

#### 웹폰트 적용
사용하고자 하는 엘리먼트에 스타일을 적용합니다.

```
const MainTitle = styled.h2`
  font-family: 'S-Core Dream'; // font-face에 지정한 font-family 사용
  font-weight: 300; // 가중치에 맞는 폰트를 다운로드 하여 적용합니다.
  font-size: 22px;
  line-height: 32px;
  letter-spacing: -1px;
`
```

#### 웹폰트 적용 결과물(..실패!)
웹폰트를 적용한 결과물입니다. 개발환경에서는 문제가 없었습니다.

[결과물]

그러나! 웹은 네트워크 환경에 영향을 많이 받기 때문에 느린네트워크 환경에서도 테스트를 해봐야합니다. 잘 적용이 되나 싶었는데..... 실제 느린 네트워크 환경에서 확인 해보니 웹폰트가 적용되는 과정이 자연스럽지 못하였습니다. 찰나의 순간이지만 지정한 웹폰트 적용시 딜레이가 있었습니다.

[디자인 시안이미지와 느린 네트워크 환경에서의 결과물 이미지]

폰트 적용 시점에 따라 첫 화면의 인상이 달라지기 때문에 사용자에게 가장 처음 노출되는 첫 화면 대한 고민을 다시금 해봅니다.


## 문제 해결 과정

### 문제의 원인과 해결안을 찾아보자
웹폰트 다운로드 및 적용에 영향을 줄수 있는 항목들을 정리해보며 해결안을 모색합니다.

- 웹폰트는 서버에서 다운로드 받아야하므로 네트워크의 속도에 영향을 받는다.
- 폰트 명세를 정의한 font-face 다운로드 시간도 고려해야한다.
- 웹 폰트의 용량 또한 다운로드 시간에 영향을 준다.
- 웹폰트 적용은 브라우저별 렌더링 처리 방식에 따라 다르다.

#### 느린 네트워크 환경
네트워크 환경은 제어할 수 있는 영역이 아니므로 pass. 

#### 폰트 명세는 CDN이 아닌 코드 저장소
초기에는 폰트명세(font-face)를 정의한 css파일 또한 CDN에 올려두고 다운로드 받았는데 다룬로드 시간을 줄이기 위해 코드 저장소에 추가하여 로드할 수 있도록 하였습니다.

#### 폰트 경량화
다운로드 시간에 영향을 줄수 있는 웹폰트 용량을 확인해보니 무려 `107kb`!!

font scdream: 107kb / 원본 otf는..700kb / 웹폰트 변환 361kb / 경량화 버전으로 폰트로 주로 많이 사용하는 한글 글자 2,350개로 줄임 (https://martian36.com/1609)
font roboto 11.3kb
구글폰트는 보통  10~20kb (https://fonts.google.com/?subset=korean)



#### 네트워크 속도 

- 웹폰트가 깜빡거리거나 적용된 텍스트가 보이지 않는 문제 (브라우저 별 rendering 처리 방식)
as-is 현상 네트워크가 지연되는 경우 다음과 같은 문제 발생



- 늦은 렌더링


### 겪었던 문제들
## 개선을 위한 노력들
- 웹폰트
- 웹폰트 경량화
- 결국 이미지폰트

임팩트있는 첫 화면을 구성을 위해 페이지에 웹폰트를 적용하는 경우, 리소스를 다운로드 받는 시간에 따른 폰트 적용 시점에 따라 첫페이지 인상이 달라질 수 있다.

## 웹폰트 사용의 문제점
맨 처음 텍스트가 보이지 않음 → 웹폰트 다운로드 시간 지연 이유
텍스트가 보이다가.. 한글은 괜찮음 / 숫자 특문 영문이 명조체로 노출됨 (디자인상 매끄러워 보이지 않음) → 한글과 영문에 적용되는 폰트 이슈로 추정 
디자인된 웹폰트가 적용되나 제목영역이 bold 처리되어 첫 노출됨 → 브라우저 userAgent 스타일이 적용된 듯 (h태그는 기본 weight를 가지고 있음)
bold가 사라지고 최종 디자인된 화면 노출 → 스타일링한 스타일이 적용되면서 볼드 제거됨 


따라서 웹폰트는 가벼워야 한다. 사용자가 기다리지 않고, 웹페이지를 아름답게 보여주려면 용량이 큰 웹폰트를 가볍게 해야 합니다. 

## 경량화

보통 경량화는 완성형 글꼴 중 사용 빈도가 낮은 문자들을 지워버리는 방식으로 진행됩니다. 꼭 포함될 필요가 없는 한자나 일본어가 포함되어 있다면 삭제합니다. 한글 중 사용 빈도가 낮은 문자들도 삭제하여 용량을 줄일 수 있습니다.


## 폰트종류
한글 영문 숫자 특수문자

## 적용
font-family



## 추가적인 노력들
srcset

----
- https://d2.naver.com/helloworld/4969726
- https://developer.mozilla.org/en-US/docs/Learn/CSS/Styling_text

